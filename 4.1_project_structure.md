# 4.1. Tổ chức thư mục của dự án

Dự án được tổ chức theo từng chức năng nghiệp vụ chính để dễ phát triển và mở rộng. Cấu trúc thư mục được phân chia theo các module như sau:

### 4.1.1. Cấu trúc thư mục theo chức năng (Frontend Web – Next.js + TypeScript)

*   **Auth (Xác thực)**
    *   `/auth/sign-in/page.tsx` : Đăng nhập.
    *   `/auth/sign-up/page.tsx` : Đăng ký.
    *   `/auth/forgot-password/page.tsx` : Quên mật khẩu.

*   **Home / Newsfeed**
    *   `/` : Trang Landing Page (dành cho Guest).
    *   `/home/page.tsx` : Bảng tin tổng hợp (Feed) dành cho User.

*   **Profile (Hồ sơ người dùng)**
    *   `/profile/[username]/page.tsx` : Xem trang cá nhân (Wall) của mình hoặc người khác.
    *   `/profile/edit/page.tsx` : Chỉnh sửa thông tin cá nhân.
    *   `/profile/[username]/followers/page.tsx` : Danh sách người theo dõi.
    *   `/profile/[username]/following/page.tsx` : Danh sách đang theo dõi.

*   **Posts (Bài viết)**
    *   `/posts/[id]/page.tsx` : Chi tiết bài viết (kèm bình luận).
    *   `/create/post/page.tsx` : Màn hình tạo bài viết mới (Modal hoặc Page).

*   **Community & Search (Cộng đồng)**
    *   `/search/page.tsx` : Tìm kiếm chung (User, Post, Tag).
    *   `/friends/page.tsx` : Quản lý danh sách bạn bè / Gợi ý kết bạn.

*   **Messaging (Nhắn tin)**
    *   `/chat/page.tsx` : Trang chủ tin nhắn (Danh sách hội thoại).
    *   `/chat/[id]/page.tsx` : Màn hình chat chi tiết với một người hoặc nhóm.

*   **Notifications (Thông báo)**
    *   `/notifications/page.tsx` : Danh sách thông báo tương tác.

*   **Collections (Bộ sưu tập)**
    *   `/collections/page.tsx` : Danh sách các bộ sưu tập (Album) đã lưu.
    *   `/collections/[id]/page.tsx` : Chi tiết các bài viết trong bộ sưu tập.

*   **Settings (Cài đặt)**
    *   `/settings/page.tsx` : Tổng quan cài đặt.
    *   `/settings/privacy/page.tsx` : Cài đặt quyền riêng tư.
    *   `/settings/theme/page.tsx` : Cài đặt giao diện & ngôn ngữ.

*   **Admin Portal (Quản trị hệ thống)**
    *   `/admin/dashboard/page.tsx` : Dashboard thống kê tổng quan.
    *   `/admin/users/page.tsx` : Danh sách & quản lý người dùng (Ban/Unban).
    *   `/admin/content/page.tsx` : Kiểm duyệt nội dung (bài viết, bình luận).
    *   `/admin/reports/page.tsx` : Xử lý báo cáo vi phạm.
    *   `/admin/system/page.tsx` : Giám sát log & sức khỏe hệ thống.

### 4.1.2. Danh sách components (UI tái sử dụng)

*   **Core UI**: Button, Input, Modal, Avatar, Card, Dropdown.
*   **Post Components**: `PostItem` (hiển thị 1 bài post), `PostGrid` (lưới ảnh), `ActionButtons` (Like/Comment/Share).
*   **Comment Components**: `CommentList` (danh sách), `CommentItem` (1 dòng bình luận), `ReplyBox`.
*   **Chat Components**: `ChatBubble` (bong bóng chat), `ConversationItem` (sidebar item), `ChatInput`.
*   **Layout**: `Navbar` (thanh điều hướng trên), `Sidebar` (menu trái), `RightPanel` (gợi ý/xu hướng).
*   **Feedback**: `Toast` (thông báo popup), `Skeleton` (loading state), `EmptyState`.

### 4.1.3. Danh sách routes API (Backend – .NET Core REST API)

*   **auth**: Đăng ký, Đăng nhập, Refresh Token, Đổi mật khẩu, Quên mật khẩu.
*   **users**:
    *   `GET /api/users`: Tìm kiếm user.
    *   `POST /api/users/follow`: Follow/Unfollow user.
*   **profiles**:
    *   `GET /api/profiles/{username}`: Lấy thông tin chi tiết Profile.
    *   `PUT /api/profiles`: Cập nhật Profile.
*   **posts**:
    *   `GET /api/posts`: Lấy Newsfeed.
    *   `POST /api/posts`: Tạo bài viết mới.
    *   `DELETE /api/posts/{id}`: Xóa bài viết.
*   **comments**:
    *   `GET /api/comments/post/{id}`: Lấy comment của bài viết.
    *   `POST /api/comments`: Bình luận mới.
*   **reactions**:
    *   `POST /api/reactions`: Thả tim/Like (đa hình cho Post/Comment).
*   **collections**:
    *   `GET /api/collections`: Lấy danh sách bộ sưu tập.
    *   `POST /api/collections`: Lưu bài viết vào bộ sưu tập.
*   **chats / messages**:
    *   `GET /api/conversations`: Lấy danh sách hội thoại.
    *   `POST /api/messages`: Gửi tin nhắn (kết hợp SignalR).
*   **notifications**:
    *   `GET /api/notifications`: Lấy danh sách thông báo.
    *   `PUT /api/notifications/read`: Đánh dấu đã đọc.
*   **admin**:
    *   `GET /api/admin/stats`: Lấy thống kê Dashboard.
    *   `POST /api/admin/users/ban`: Khóa tài khoản.
    *   `POST /api/admin/reports/resolve`: Xử lý báo cáo.
    *   `GET /api/admin/logs`: Xem System Logs.
